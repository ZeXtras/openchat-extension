<project name="ZeXtras" default="help" basedir=".">

  <taskdef resource="net/sf/antcontrib/antcontrib.properties">
    <classpath>
      <pathelement location="build-commons/ant-contrib/ant-contrib-1.0b3.jar"/>
    </classpath>
  </taskdef>

  <description>OpenChat</description>

  <property name="src" location="src/java"/>
  <property name="resdir" location="res"/>
  <property name="ant-lib" value="" />
  <property name="debug" value="no" />
  <property name="build_commons" value="../build-commons/" />

  <path id="ant-lib">
      <fileset dir="${build_commons}/ant-contrib" >
        <include name="*.jar"/>
      </fileset>
  </path>

  <path id="zextras-libs">
      <fileset dir="${build_commons}/lib/" >
        <include name="*.jar"/>
      </fileset>
  </path>

  <property name="COMPILER_ARGS" value="-Xlint"/>
  <!-- <property name="COMPILER_ARGS" value="-Xlint:none -Xmaxerrs 1000" /> -->

  <target name="init">
    <tstamp />
    <echo> Building Open Chat 1.0 </echo>
  </target>




<path id="zimbra-jars-8.0.0">
    <fileset dir="${build_commons}/zimbra-jars/zimbra-jars-8.0.0/" >
      <include name="*.jar"/>
    </fileset>
</path>

<target name="jar-8.0.0"  depends="init" description="create jar">

  <property name="build" value="build/jar/" />
  <property name="dist"  value="dist/" />

  <condition property="JarName" value="openchat">
     <not>
        <isset property="JarName"/>
     </not>
  </condition>

  <mkdir dir="${build}"/>
  <mkdir dir="${dist}"/>

  <ant antfile="build.xml" dir="../zal/" target="zal-8.0.0" inheritAll="false" useNativeBasedir="false" />

  <echo>Creating OpenChat JAR ... </echo>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="../extensionlib/src/java/" destdir="../extensionlib/build/" target="1.6" source="1.6">
    <classpath>
      <path refid="zextras-libs" />
      <pathelement location="../zal/dist/8.0.0/zal.jar" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${src}/" destdir="${build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zextras-libs" />
      <pathelement location="../extensionlib/build/" />
      <pathelement location="../zal/dist/8.0.0/zal.jar" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>

  <jar jarfile="${dist}/${JarName}.jar" compress="true">
    <manifest>
      <attribute name="Specification-Title" value="ZeXtras Core" />
      <attribute name="Specification-Version" value="1.0" />
      <attribute name="Specification-Vendor" value="${Vendor}" />
      <attribute name="Created-By" value="ZeXtras" />
      <attribute name="ZAL-Extension-Class" value="com.zextras.modules.chat.ChatExtension" />
      <attribute name="ZAL-Required-Version" value="1.11.6" />
    </manifest>
    <fileset dir="${build}" />
    <fileset dir="../extensionlib/build" />
    <zipgroupfileset dir="../build-commons/lib/jackson/" includes="jackson-annotations-2.6.7.jar" />
    <zipgroupfileset dir="../build-commons/lib/jackson/" includes="jackson-core-2.6.7.jar" />
    <zipgroupfileset dir="../build-commons/lib/jackson/" includes="jackson-databind-2.6.7.jar" />
    <zipgroupfileset dir="../build-commons/apache-commons/commons-lang3-3.1/" includes="commons-lang3-3.1.jar" />
    <zipgroupfileset dir="../build-commons/guice/" includes="guice-4.0-no_aop.jar" />
    <zipgroupfileset dir="../build-commons/guice/" includes="javax.inject.jar" />
    <zipgroupfileset dir="../build-commons/guice/" includes="jsr305-2.0.1.jar" />
    <zipgroupfileset dir="../build-commons/guice/" includes="guice-assistedinject-4.0.jar" />
    <zipgroupfileset dir="../build-commons/sentry/" includes="guava-18.0.jar" />
    <zipgroupfileset dir="../build-commons/woodstox/" includes="stax2-api-3.1.1.jar"/>
    <zipgroupfileset dir="../build-commons/woodstox/" includes="woodstox-core-asl-4.2.0.jar"/>
    <zipgroupfileset dir="../build-commons/woodstox/" includes="woodstox-msv-rng-datatype-20020414.jar"/>
    <zipgroupfileset dir="../build-commons/woodstox/" includes="msv-core-2010.2.jar"/>
    <zipgroupfileset dir="../build-commons/woodstox/" includes="xsdlib-2010.1.jar"/>
    <zipgroupfileset dir="../build-commons/netty/" includes="netty-all-4.0.44.Final.jar" />
    <zipgroupfileset dir="../build-commons/apache-commons/commons-lang3-3.1/" includes="commons-lang3-3.1.jar" />
    <fileset dir="../res/" defaultexcludes="yes" includes="xmpp/" />
    <!--<zipfileset src="${build_commons}/lib/zextras-lib.jar" />-->
  </jar>
</target>


<path id="zimbra-jars-8.0.1">
    <fileset dir="${build_commons}/zimbra-jars/zimbra-jars-8.0.1/" >
      <include name="*.jar"/>
    </fileset>
</path>

<target name="jar-8.0.1"  depends="init" description="create jar">

  <property name="build" value="build/jar/" />
  <property name="dist"  value="dist/" />

  <condition property="JarName" value="openchat">
     <not>
        <isset property="JarName"/>
     </not>
  </condition>

  <mkdir dir="${build}"/>
  <mkdir dir="${dist}"/>

  <ant antfile="build.xml" dir="../zal/" target="zal-8.0.1" inheritAll="false" useNativeBasedir="false" />

  <echo>Creating OpenChat JAR ... </echo>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="../extensionlib/src/java/" destdir="../extensionlib/build/" target="1.6" source="1.6">
    <classpath>
      <path refid="zextras-libs" />
      <pathelement location="../zal/dist/8.0.1/zal.jar" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${src}/" destdir="${build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zextras-libs" />
      <pathelement location="../extensionlib/build/" />
      <pathelement location="../zal/dist/8.0.1/zal.jar" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>

  <jar jarfile="${dist}/${JarName}.jar" compress="true">
    <manifest>
      <attribute name="Specification-Title" value="ZeXtras Core" />
      <attribute name="Specification-Version" value="1.0" />
      <attribute name="Specification-Vendor" value="${Vendor}" />
      <attribute name="Created-By" value="ZeXtras" />
      <attribute name="ZAL-Extension-Class" value="com.zextras.modules.chat.ChatExtension" />
      <attribute name="ZAL-Required-Version" value="1.11.6" />
    </manifest>
    <fileset dir="${build}" />
    <fileset dir="../extensionlib/build" />
    <zipgroupfileset dir="../build-commons/lib/jackson/" includes="jackson-annotations-2.6.7.jar" />
    <zipgroupfileset dir="../build-commons/lib/jackson/" includes="jackson-core-2.6.7.jar" />
    <zipgroupfileset dir="../build-commons/lib/jackson/" includes="jackson-databind-2.6.7.jar" />
    <zipgroupfileset dir="../build-commons/apache-commons/commons-lang3-3.1/" includes="commons-lang3-3.1.jar" />
    <zipgroupfileset dir="../build-commons/guice/" includes="guice-4.0-no_aop.jar" />
    <zipgroupfileset dir="../build-commons/guice/" includes="javax.inject.jar" />
    <zipgroupfileset dir="../build-commons/guice/" includes="jsr305-2.0.1.jar" />
    <zipgroupfileset dir="../build-commons/guice/" includes="guice-assistedinject-4.0.jar" />
    <zipgroupfileset dir="../build-commons/sentry/" includes="guava-18.0.jar" />
    <zipgroupfileset dir="../build-commons/woodstox/" includes="stax2-api-3.1.1.jar"/>
    <zipgroupfileset dir="../build-commons/woodstox/" includes="woodstox-core-asl-4.2.0.jar"/>
    <zipgroupfileset dir="../build-commons/woodstox/" includes="woodstox-msv-rng-datatype-20020414.jar"/>
    <zipgroupfileset dir="../build-commons/woodstox/" includes="msv-core-2010.2.jar"/>
    <zipgroupfileset dir="../build-commons/woodstox/" includes="xsdlib-2010.1.jar"/>
    <zipgroupfileset dir="../build-commons/netty/" includes="netty-all-4.0.44.Final.jar" />
    <zipgroupfileset dir="../build-commons/apache-commons/commons-lang3-3.1/" includes="commons-lang3-3.1.jar" />
    <fileset dir="../res/" defaultexcludes="yes" includes="xmpp/" />
    <!--<zipfileset src="${build_commons}/lib/zextras-lib.jar" />-->
  </jar>
</target>


<path id="zimbra-jars-8.0.2">
    <fileset dir="${build_commons}/zimbra-jars/zimbra-jars-8.0.2/" >
      <include name="*.jar"/>
    </fileset>
</path>

<target name="jar-8.0.2"  depends="init" description="create jar">

  <property name="build" value="build/jar/" />
  <property name="dist"  value="dist/" />

  <condition property="JarName" value="openchat">
     <not>
        <isset property="JarName"/>
     </not>
  </condition>

  <mkdir dir="${build}"/>
  <mkdir dir="${dist}"/>

  <ant antfile="build.xml" dir="../zal/" target="zal-8.0.2" inheritAll="false" useNativeBasedir="false" />

  <echo>Creating OpenChat JAR ... </echo>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="../extensionlib/src/java/" destdir="../extensionlib/build/" target="1.6" source="1.6">
    <classpath>
      <path refid="zextras-libs" />
      <pathelement location="../zal/dist/8.0.2/zal.jar" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${src}/" destdir="${build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zextras-libs" />
      <pathelement location="../extensionlib/build/" />
      <pathelement location="../zal/dist/8.0.2/zal.jar" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>

  <jar jarfile="${dist}/${JarName}.jar" compress="true">
    <manifest>
      <attribute name="Specification-Title" value="ZeXtras Core" />
      <attribute name="Specification-Version" value="1.0" />
      <attribute name="Specification-Vendor" value="${Vendor}" />
      <attribute name="Created-By" value="ZeXtras" />
      <attribute name="ZAL-Extension-Class" value="com.zextras.modules.chat.ChatExtension" />
      <attribute name="ZAL-Required-Version" value="1.11.6" />
    </manifest>
    <fileset dir="${build}" />
    <fileset dir="../extensionlib/build" />
    <zipgroupfileset dir="../build-commons/lib/jackson/" includes="jackson-annotations-2.6.7.jar" />
    <zipgroupfileset dir="../build-commons/lib/jackson/" includes="jackson-core-2.6.7.jar" />
    <zipgroupfileset dir="../build-commons/lib/jackson/" includes="jackson-databind-2.6.7.jar" />
    <zipgroupfileset dir="../build-commons/apache-commons/commons-lang3-3.1/" includes="commons-lang3-3.1.jar" />
    <zipgroupfileset dir="../build-commons/guice/" includes="guice-4.0-no_aop.jar" />
    <zipgroupfileset dir="../build-commons/guice/" includes="javax.inject.jar" />
    <zipgroupfileset dir="../build-commons/guice/" includes="jsr305-2.0.1.jar" />
    <zipgroupfileset dir="../build-commons/guice/" includes="guice-assistedinject-4.0.jar" />
    <zipgroupfileset dir="../build-commons/sentry/" includes="guava-18.0.jar" />
    <zipgroupfileset dir="../build-commons/woodstox/" includes="stax2-api-3.1.1.jar"/>
    <zipgroupfileset dir="../build-commons/woodstox/" includes="woodstox-core-asl-4.2.0.jar"/>
    <zipgroupfileset dir="../build-commons/woodstox/" includes="woodstox-msv-rng-datatype-20020414.jar"/>
    <zipgroupfileset dir="../build-commons/woodstox/" includes="msv-core-2010.2.jar"/>
    <zipgroupfileset dir="../build-commons/woodstox/" includes="xsdlib-2010.1.jar"/>
    <zipgroupfileset dir="../build-commons/netty/" includes="netty-all-4.0.44.Final.jar" />
    <zipgroupfileset dir="../build-commons/apache-commons/commons-lang3-3.1/" includes="commons-lang3-3.1.jar" />
    <fileset dir="../res/" defaultexcludes="yes" includes="xmpp/" />
    <!--<zipfileset src="${build_commons}/lib/zextras-lib.jar" />-->
  </jar>
</target>


<path id="zimbra-jars-8.0.3">
    <fileset dir="${build_commons}/zimbra-jars/zimbra-jars-8.0.3/" >
      <include name="*.jar"/>
    </fileset>
</path>

<target name="jar-8.0.3"  depends="init" description="create jar">

  <property name="build" value="build/jar/" />
  <property name="dist"  value="dist/" />

  <condition property="JarName" value="openchat">
     <not>
        <isset property="JarName"/>
     </not>
  </condition>

  <mkdir dir="${build}"/>
  <mkdir dir="${dist}"/>

  <ant antfile="build.xml" dir="../zal/" target="zal-8.0.3" inheritAll="false" useNativeBasedir="false" />

  <echo>Creating OpenChat JAR ... </echo>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="../extensionlib/src/java/" destdir="../extensionlib/build/" target="1.6" source="1.6">
    <classpath>
      <path refid="zextras-libs" />
      <pathelement location="../zal/dist/8.0.3/zal.jar" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${src}/" destdir="${build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zextras-libs" />
      <pathelement location="../extensionlib/build/" />
      <pathelement location="../zal/dist/8.0.3/zal.jar" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>

  <jar jarfile="${dist}/${JarName}.jar" compress="true">
    <manifest>
      <attribute name="Specification-Title" value="ZeXtras Core" />
      <attribute name="Specification-Version" value="1.0" />
      <attribute name="Specification-Vendor" value="${Vendor}" />
      <attribute name="Created-By" value="ZeXtras" />
      <attribute name="ZAL-Extension-Class" value="com.zextras.modules.chat.ChatExtension" />
      <attribute name="ZAL-Required-Version" value="1.11.6" />
    </manifest>
    <fileset dir="${build}" />
    <fileset dir="../extensionlib/build" />
    <zipgroupfileset dir="../build-commons/lib/jackson/" includes="jackson-annotations-2.6.7.jar" />
    <zipgroupfileset dir="../build-commons/lib/jackson/" includes="jackson-core-2.6.7.jar" />
    <zipgroupfileset dir="../build-commons/lib/jackson/" includes="jackson-databind-2.6.7.jar" />
    <zipgroupfileset dir="../build-commons/apache-commons/commons-lang3-3.1/" includes="commons-lang3-3.1.jar" />
    <zipgroupfileset dir="../build-commons/guice/" includes="guice-4.0-no_aop.jar" />
    <zipgroupfileset dir="../build-commons/guice/" includes="javax.inject.jar" />
    <zipgroupfileset dir="../build-commons/guice/" includes="jsr305-2.0.1.jar" />
    <zipgroupfileset dir="../build-commons/guice/" includes="guice-assistedinject-4.0.jar" />
    <zipgroupfileset dir="../build-commons/sentry/" includes="guava-18.0.jar" />
    <zipgroupfileset dir="../build-commons/woodstox/" includes="stax2-api-3.1.1.jar"/>
    <zipgroupfileset dir="../build-commons/woodstox/" includes="woodstox-core-asl-4.2.0.jar"/>
    <zipgroupfileset dir="../build-commons/woodstox/" includes="woodstox-msv-rng-datatype-20020414.jar"/>
    <zipgroupfileset dir="../build-commons/woodstox/" includes="msv-core-2010.2.jar"/>
    <zipgroupfileset dir="../build-commons/woodstox/" includes="xsdlib-2010.1.jar"/>
    <zipgroupfileset dir="../build-commons/netty/" includes="netty-all-4.0.44.Final.jar" />
    <zipgroupfileset dir="../build-commons/apache-commons/commons-lang3-3.1/" includes="commons-lang3-3.1.jar" />
    <fileset dir="../res/" defaultexcludes="yes" includes="xmpp/" />
    <!--<zipfileset src="${build_commons}/lib/zextras-lib.jar" />-->
  </jar>
</target>


<path id="zimbra-jars-8.0.4">
    <fileset dir="${build_commons}/zimbra-jars/zimbra-jars-8.0.4/" >
      <include name="*.jar"/>
    </fileset>
</path>

<target name="jar-8.0.4"  depends="init" description="create jar">

  <property name="build" value="build/jar/" />
  <property name="dist"  value="dist/" />

  <condition property="JarName" value="openchat">
     <not>
        <isset property="JarName"/>
     </not>
  </condition>

  <mkdir dir="${build}"/>
  <mkdir dir="${dist}"/>

  <ant antfile="build.xml" dir="../zal/" target="zal-8.0.4" inheritAll="false" useNativeBasedir="false" />

  <echo>Creating OpenChat JAR ... </echo>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="../extensionlib/src/java/" destdir="../extensionlib/build/" target="1.6" source="1.6">
    <classpath>
      <path refid="zextras-libs" />
      <pathelement location="../zal/dist/8.0.4/zal.jar" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${src}/" destdir="${build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zextras-libs" />
      <pathelement location="../extensionlib/build/" />
      <pathelement location="../zal/dist/8.0.4/zal.jar" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>

  <jar jarfile="${dist}/${JarName}.jar" compress="true">
    <manifest>
      <attribute name="Specification-Title" value="ZeXtras Core" />
      <attribute name="Specification-Version" value="1.0" />
      <attribute name="Specification-Vendor" value="${Vendor}" />
      <attribute name="Created-By" value="ZeXtras" />
      <attribute name="ZAL-Extension-Class" value="com.zextras.modules.chat.ChatExtension" />
      <attribute name="ZAL-Required-Version" value="1.11.6" />
    </manifest>
    <fileset dir="${build}" />
    <fileset dir="../extensionlib/build" />
    <zipgroupfileset dir="../build-commons/lib/jackson/" includes="jackson-annotations-2.6.7.jar" />
    <zipgroupfileset dir="../build-commons/lib/jackson/" includes="jackson-core-2.6.7.jar" />
    <zipgroupfileset dir="../build-commons/lib/jackson/" includes="jackson-databind-2.6.7.jar" />
    <zipgroupfileset dir="../build-commons/apache-commons/commons-lang3-3.1/" includes="commons-lang3-3.1.jar" />
    <zipgroupfileset dir="../build-commons/guice/" includes="guice-4.0-no_aop.jar" />
    <zipgroupfileset dir="../build-commons/guice/" includes="javax.inject.jar" />
    <zipgroupfileset dir="../build-commons/guice/" includes="jsr305-2.0.1.jar" />
    <zipgroupfileset dir="../build-commons/guice/" includes="guice-assistedinject-4.0.jar" />
    <zipgroupfileset dir="../build-commons/sentry/" includes="guava-18.0.jar" />
    <zipgroupfileset dir="../build-commons/woodstox/" includes="stax2-api-3.1.1.jar"/>
    <zipgroupfileset dir="../build-commons/woodstox/" includes="woodstox-core-asl-4.2.0.jar"/>
    <zipgroupfileset dir="../build-commons/woodstox/" includes="woodstox-msv-rng-datatype-20020414.jar"/>
    <zipgroupfileset dir="../build-commons/woodstox/" includes="msv-core-2010.2.jar"/>
    <zipgroupfileset dir="../build-commons/woodstox/" includes="xsdlib-2010.1.jar"/>
    <zipgroupfileset dir="../build-commons/netty/" includes="netty-all-4.0.44.Final.jar" />
    <zipgroupfileset dir="../build-commons/apache-commons/commons-lang3-3.1/" includes="commons-lang3-3.1.jar" />
    <fileset dir="../res/" defaultexcludes="yes" includes="xmpp/" />
    <!--<zipfileset src="${build_commons}/lib/zextras-lib.jar" />-->
  </jar>
</target>


<path id="zimbra-jars-8.0.5">
    <fileset dir="${build_commons}/zimbra-jars/zimbra-jars-8.0.5/" >
      <include name="*.jar"/>
    </fileset>
</path>

<target name="jar-8.0.5"  depends="init" description="create jar">

  <property name="build" value="build/jar/" />
  <property name="dist"  value="dist/" />

  <condition property="JarName" value="openchat">
     <not>
        <isset property="JarName"/>
     </not>
  </condition>

  <mkdir dir="${build}"/>
  <mkdir dir="${dist}"/>

  <ant antfile="build.xml" dir="../zal/" target="zal-8.0.5" inheritAll="false" useNativeBasedir="false" />

  <echo>Creating OpenChat JAR ... </echo>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="../extensionlib/src/java/" destdir="../extensionlib/build/" target="1.6" source="1.6">
    <classpath>
      <path refid="zextras-libs" />
      <pathelement location="../zal/dist/8.0.5/zal.jar" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${src}/" destdir="${build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zextras-libs" />
      <pathelement location="../extensionlib/build/" />
      <pathelement location="../zal/dist/8.0.5/zal.jar" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>

  <jar jarfile="${dist}/${JarName}.jar" compress="true">
    <manifest>
      <attribute name="Specification-Title" value="ZeXtras Core" />
      <attribute name="Specification-Version" value="1.0" />
      <attribute name="Specification-Vendor" value="${Vendor}" />
      <attribute name="Created-By" value="ZeXtras" />
      <attribute name="ZAL-Extension-Class" value="com.zextras.modules.chat.ChatExtension" />
      <attribute name="ZAL-Required-Version" value="1.11.6" />
    </manifest>
    <fileset dir="${build}" />
    <fileset dir="../extensionlib/build" />
    <zipgroupfileset dir="../build-commons/lib/jackson/" includes="jackson-annotations-2.6.7.jar" />
    <zipgroupfileset dir="../build-commons/lib/jackson/" includes="jackson-core-2.6.7.jar" />
    <zipgroupfileset dir="../build-commons/lib/jackson/" includes="jackson-databind-2.6.7.jar" />
    <zipgroupfileset dir="../build-commons/apache-commons/commons-lang3-3.1/" includes="commons-lang3-3.1.jar" />
    <zipgroupfileset dir="../build-commons/guice/" includes="guice-4.0-no_aop.jar" />
    <zipgroupfileset dir="../build-commons/guice/" includes="javax.inject.jar" />
    <zipgroupfileset dir="../build-commons/guice/" includes="jsr305-2.0.1.jar" />
    <zipgroupfileset dir="../build-commons/guice/" includes="guice-assistedinject-4.0.jar" />
    <zipgroupfileset dir="../build-commons/sentry/" includes="guava-18.0.jar" />
    <zipgroupfileset dir="../build-commons/woodstox/" includes="stax2-api-3.1.1.jar"/>
    <zipgroupfileset dir="../build-commons/woodstox/" includes="woodstox-core-asl-4.2.0.jar"/>
    <zipgroupfileset dir="../build-commons/woodstox/" includes="woodstox-msv-rng-datatype-20020414.jar"/>
    <zipgroupfileset dir="../build-commons/woodstox/" includes="msv-core-2010.2.jar"/>
    <zipgroupfileset dir="../build-commons/woodstox/" includes="xsdlib-2010.1.jar"/>
    <zipgroupfileset dir="../build-commons/netty/" includes="netty-all-4.0.44.Final.jar" />
    <zipgroupfileset dir="../build-commons/apache-commons/commons-lang3-3.1/" includes="commons-lang3-3.1.jar" />
    <fileset dir="../res/" defaultexcludes="yes" includes="xmpp/" />
    <!--<zipfileset src="${build_commons}/lib/zextras-lib.jar" />-->
  </jar>
</target>


<path id="zimbra-jars-8.0.6">
    <fileset dir="${build_commons}/zimbra-jars/zimbra-jars-8.0.6/" >
      <include name="*.jar"/>
    </fileset>
</path>

<target name="jar-8.0.6"  depends="init" description="create jar">

  <property name="build" value="build/jar/" />
  <property name="dist"  value="dist/" />

  <condition property="JarName" value="openchat">
     <not>
        <isset property="JarName"/>
     </not>
  </condition>

  <mkdir dir="${build}"/>
  <mkdir dir="${dist}"/>

  <ant antfile="build.xml" dir="../zal/" target="zal-8.0.6" inheritAll="false" useNativeBasedir="false" />

  <echo>Creating OpenChat JAR ... </echo>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="../extensionlib/src/java/" destdir="../extensionlib/build/" target="1.6" source="1.6">
    <classpath>
      <path refid="zextras-libs" />
      <pathelement location="../zal/dist/8.0.6/zal.jar" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${src}/" destdir="${build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zextras-libs" />
      <pathelement location="../extensionlib/build/" />
      <pathelement location="../zal/dist/8.0.6/zal.jar" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>

  <jar jarfile="${dist}/${JarName}.jar" compress="true">
    <manifest>
      <attribute name="Specification-Title" value="ZeXtras Core" />
      <attribute name="Specification-Version" value="1.0" />
      <attribute name="Specification-Vendor" value="${Vendor}" />
      <attribute name="Created-By" value="ZeXtras" />
      <attribute name="ZAL-Extension-Class" value="com.zextras.modules.chat.ChatExtension" />
      <attribute name="ZAL-Required-Version" value="1.11.6" />
    </manifest>
    <fileset dir="${build}" />
    <fileset dir="../extensionlib/build" />
    <zipgroupfileset dir="../build-commons/lib/jackson/" includes="jackson-annotations-2.6.7.jar" />
    <zipgroupfileset dir="../build-commons/lib/jackson/" includes="jackson-core-2.6.7.jar" />
    <zipgroupfileset dir="../build-commons/lib/jackson/" includes="jackson-databind-2.6.7.jar" />
    <zipgroupfileset dir="../build-commons/apache-commons/commons-lang3-3.1/" includes="commons-lang3-3.1.jar" />
    <zipgroupfileset dir="../build-commons/guice/" includes="guice-4.0-no_aop.jar" />
    <zipgroupfileset dir="../build-commons/guice/" includes="javax.inject.jar" />
    <zipgroupfileset dir="../build-commons/guice/" includes="jsr305-2.0.1.jar" />
    <zipgroupfileset dir="../build-commons/guice/" includes="guice-assistedinject-4.0.jar" />
    <zipgroupfileset dir="../build-commons/sentry/" includes="guava-18.0.jar" />
    <zipgroupfileset dir="../build-commons/woodstox/" includes="stax2-api-3.1.1.jar"/>
    <zipgroupfileset dir="../build-commons/woodstox/" includes="woodstox-core-asl-4.2.0.jar"/>
    <zipgroupfileset dir="../build-commons/woodstox/" includes="woodstox-msv-rng-datatype-20020414.jar"/>
    <zipgroupfileset dir="../build-commons/woodstox/" includes="msv-core-2010.2.jar"/>
    <zipgroupfileset dir="../build-commons/woodstox/" includes="xsdlib-2010.1.jar"/>
    <zipgroupfileset dir="../build-commons/netty/" includes="netty-all-4.0.44.Final.jar" />
    <zipgroupfileset dir="../build-commons/apache-commons/commons-lang3-3.1/" includes="commons-lang3-3.1.jar" />
    <fileset dir="../res/" defaultexcludes="yes" includes="xmpp/" />
    <!--<zipfileset src="${build_commons}/lib/zextras-lib.jar" />-->
  </jar>
</target>


<path id="zimbra-jars-8.0.7">
    <fileset dir="${build_commons}/zimbra-jars/zimbra-jars-8.0.7/" >
      <include name="*.jar"/>
    </fileset>
</path>

<target name="jar-8.0.7"  depends="init" description="create jar">

  <property name="build" value="build/jar/" />
  <property name="dist"  value="dist/" />

  <condition property="JarName" value="openchat">
     <not>
        <isset property="JarName"/>
     </not>
  </condition>

  <mkdir dir="${build}"/>
  <mkdir dir="${dist}"/>

  <ant antfile="build.xml" dir="../zal/" target="zal-8.0.7" inheritAll="false" useNativeBasedir="false" />

  <echo>Creating OpenChat JAR ... </echo>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="../extensionlib/src/java/" destdir="../extensionlib/build/" target="1.6" source="1.6">
    <classpath>
      <path refid="zextras-libs" />
      <pathelement location="../zal/dist/8.0.7/zal.jar" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${src}/" destdir="${build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zextras-libs" />
      <pathelement location="../extensionlib/build/" />
      <pathelement location="../zal/dist/8.0.7/zal.jar" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>

  <jar jarfile="${dist}/${JarName}.jar" compress="true">
    <manifest>
      <attribute name="Specification-Title" value="ZeXtras Core" />
      <attribute name="Specification-Version" value="1.0" />
      <attribute name="Specification-Vendor" value="${Vendor}" />
      <attribute name="Created-By" value="ZeXtras" />
      <attribute name="ZAL-Extension-Class" value="com.zextras.modules.chat.ChatExtension" />
      <attribute name="ZAL-Required-Version" value="1.11.6" />
    </manifest>
    <fileset dir="${build}" />
    <fileset dir="../extensionlib/build" />
    <zipgroupfileset dir="../build-commons/lib/jackson/" includes="jackson-annotations-2.6.7.jar" />
    <zipgroupfileset dir="../build-commons/lib/jackson/" includes="jackson-core-2.6.7.jar" />
    <zipgroupfileset dir="../build-commons/lib/jackson/" includes="jackson-databind-2.6.7.jar" />
    <zipgroupfileset dir="../build-commons/apache-commons/commons-lang3-3.1/" includes="commons-lang3-3.1.jar" />
    <zipgroupfileset dir="../build-commons/guice/" includes="guice-4.0-no_aop.jar" />
    <zipgroupfileset dir="../build-commons/guice/" includes="javax.inject.jar" />
    <zipgroupfileset dir="../build-commons/guice/" includes="jsr305-2.0.1.jar" />
    <zipgroupfileset dir="../build-commons/guice/" includes="guice-assistedinject-4.0.jar" />
    <zipgroupfileset dir="../build-commons/sentry/" includes="guava-18.0.jar" />
    <zipgroupfileset dir="../build-commons/woodstox/" includes="stax2-api-3.1.1.jar"/>
    <zipgroupfileset dir="../build-commons/woodstox/" includes="woodstox-core-asl-4.2.0.jar"/>
    <zipgroupfileset dir="../build-commons/woodstox/" includes="woodstox-msv-rng-datatype-20020414.jar"/>
    <zipgroupfileset dir="../build-commons/woodstox/" includes="msv-core-2010.2.jar"/>
    <zipgroupfileset dir="../build-commons/woodstox/" includes="xsdlib-2010.1.jar"/>
    <zipgroupfileset dir="../build-commons/netty/" includes="netty-all-4.0.44.Final.jar" />
    <zipgroupfileset dir="../build-commons/apache-commons/commons-lang3-3.1/" includes="commons-lang3-3.1.jar" />
    <fileset dir="../res/" defaultexcludes="yes" includes="xmpp/" />
    <!--<zipfileset src="${build_commons}/lib/zextras-lib.jar" />-->
  </jar>
</target>


<path id="zimbra-jars-8.0.8">
    <fileset dir="${build_commons}/zimbra-jars/zimbra-jars-8.0.8/" >
      <include name="*.jar"/>
    </fileset>
</path>

<target name="jar-8.0.8"  depends="init" description="create jar">

  <property name="build" value="build/jar/" />
  <property name="dist"  value="dist/" />

  <condition property="JarName" value="openchat">
     <not>
        <isset property="JarName"/>
     </not>
  </condition>

  <mkdir dir="${build}"/>
  <mkdir dir="${dist}"/>

  <ant antfile="build.xml" dir="../zal/" target="zal-8.0.8" inheritAll="false" useNativeBasedir="false" />

  <echo>Creating OpenChat JAR ... </echo>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="../extensionlib/src/java/" destdir="../extensionlib/build/" target="1.6" source="1.6">
    <classpath>
      <path refid="zextras-libs" />
      <pathelement location="../zal/dist/8.0.8/zal.jar" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${src}/" destdir="${build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zextras-libs" />
      <pathelement location="../extensionlib/build/" />
      <pathelement location="../zal/dist/8.0.8/zal.jar" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>

  <jar jarfile="${dist}/${JarName}.jar" compress="true">
    <manifest>
      <attribute name="Specification-Title" value="ZeXtras Core" />
      <attribute name="Specification-Version" value="1.0" />
      <attribute name="Specification-Vendor" value="${Vendor}" />
      <attribute name="Created-By" value="ZeXtras" />
      <attribute name="ZAL-Extension-Class" value="com.zextras.modules.chat.ChatExtension" />
      <attribute name="ZAL-Required-Version" value="1.11.6" />
    </manifest>
    <fileset dir="${build}" />
    <fileset dir="../extensionlib/build" />
    <zipgroupfileset dir="../build-commons/lib/jackson/" includes="jackson-annotations-2.6.7.jar" />
    <zipgroupfileset dir="../build-commons/lib/jackson/" includes="jackson-core-2.6.7.jar" />
    <zipgroupfileset dir="../build-commons/lib/jackson/" includes="jackson-databind-2.6.7.jar" />
    <zipgroupfileset dir="../build-commons/apache-commons/commons-lang3-3.1/" includes="commons-lang3-3.1.jar" />
    <zipgroupfileset dir="../build-commons/guice/" includes="guice-4.0-no_aop.jar" />
    <zipgroupfileset dir="../build-commons/guice/" includes="javax.inject.jar" />
    <zipgroupfileset dir="../build-commons/guice/" includes="jsr305-2.0.1.jar" />
    <zipgroupfileset dir="../build-commons/guice/" includes="guice-assistedinject-4.0.jar" />
    <zipgroupfileset dir="../build-commons/sentry/" includes="guava-18.0.jar" />
    <zipgroupfileset dir="../build-commons/woodstox/" includes="stax2-api-3.1.1.jar"/>
    <zipgroupfileset dir="../build-commons/woodstox/" includes="woodstox-core-asl-4.2.0.jar"/>
    <zipgroupfileset dir="../build-commons/woodstox/" includes="woodstox-msv-rng-datatype-20020414.jar"/>
    <zipgroupfileset dir="../build-commons/woodstox/" includes="msv-core-2010.2.jar"/>
    <zipgroupfileset dir="../build-commons/woodstox/" includes="xsdlib-2010.1.jar"/>
    <zipgroupfileset dir="../build-commons/netty/" includes="netty-all-4.0.44.Final.jar" />
    <zipgroupfileset dir="../build-commons/apache-commons/commons-lang3-3.1/" includes="commons-lang3-3.1.jar" />
    <fileset dir="../res/" defaultexcludes="yes" includes="xmpp/" />
    <!--<zipfileset src="${build_commons}/lib/zextras-lib.jar" />-->
  </jar>
</target>


<path id="zimbra-jars-8.0.9">
    <fileset dir="${build_commons}/zimbra-jars/zimbra-jars-8.0.9/" >
      <include name="*.jar"/>
    </fileset>
</path>

<target name="jar-8.0.9"  depends="init" description="create jar">

  <property name="build" value="build/jar/" />
  <property name="dist"  value="dist/" />

  <condition property="JarName" value="openchat">
     <not>
        <isset property="JarName"/>
     </not>
  </condition>

  <mkdir dir="${build}"/>
  <mkdir dir="${dist}"/>

  <ant antfile="build.xml" dir="../zal/" target="zal-8.0.9" inheritAll="false" useNativeBasedir="false" />

  <echo>Creating OpenChat JAR ... </echo>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="../extensionlib/src/java/" destdir="../extensionlib/build/" target="1.6" source="1.6">
    <classpath>
      <path refid="zextras-libs" />
      <pathelement location="../zal/dist/8.0.9/zal.jar" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${src}/" destdir="${build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zextras-libs" />
      <pathelement location="../extensionlib/build/" />
      <pathelement location="../zal/dist/8.0.9/zal.jar" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>

  <jar jarfile="${dist}/${JarName}.jar" compress="true">
    <manifest>
      <attribute name="Specification-Title" value="ZeXtras Core" />
      <attribute name="Specification-Version" value="1.0" />
      <attribute name="Specification-Vendor" value="${Vendor}" />
      <attribute name="Created-By" value="ZeXtras" />
      <attribute name="ZAL-Extension-Class" value="com.zextras.modules.chat.ChatExtension" />
      <attribute name="ZAL-Required-Version" value="1.11.6" />
    </manifest>
    <fileset dir="${build}" />
    <fileset dir="../extensionlib/build" />
    <zipgroupfileset dir="../build-commons/lib/jackson/" includes="jackson-annotations-2.6.7.jar" />
    <zipgroupfileset dir="../build-commons/lib/jackson/" includes="jackson-core-2.6.7.jar" />
    <zipgroupfileset dir="../build-commons/lib/jackson/" includes="jackson-databind-2.6.7.jar" />
    <zipgroupfileset dir="../build-commons/apache-commons/commons-lang3-3.1/" includes="commons-lang3-3.1.jar" />
    <zipgroupfileset dir="../build-commons/guice/" includes="guice-4.0-no_aop.jar" />
    <zipgroupfileset dir="../build-commons/guice/" includes="javax.inject.jar" />
    <zipgroupfileset dir="../build-commons/guice/" includes="jsr305-2.0.1.jar" />
    <zipgroupfileset dir="../build-commons/guice/" includes="guice-assistedinject-4.0.jar" />
    <zipgroupfileset dir="../build-commons/sentry/" includes="guava-18.0.jar" />
    <zipgroupfileset dir="../build-commons/woodstox/" includes="stax2-api-3.1.1.jar"/>
    <zipgroupfileset dir="../build-commons/woodstox/" includes="woodstox-core-asl-4.2.0.jar"/>
    <zipgroupfileset dir="../build-commons/woodstox/" includes="woodstox-msv-rng-datatype-20020414.jar"/>
    <zipgroupfileset dir="../build-commons/woodstox/" includes="msv-core-2010.2.jar"/>
    <zipgroupfileset dir="../build-commons/woodstox/" includes="xsdlib-2010.1.jar"/>
    <zipgroupfileset dir="../build-commons/netty/" includes="netty-all-4.0.44.Final.jar" />
    <zipgroupfileset dir="../build-commons/apache-commons/commons-lang3-3.1/" includes="commons-lang3-3.1.jar" />
    <fileset dir="../res/" defaultexcludes="yes" includes="xmpp/" />
    <!--<zipfileset src="${build_commons}/lib/zextras-lib.jar" />-->
  </jar>
</target>


<path id="zimbra-jars-8.5.0">
    <fileset dir="${build_commons}/zimbra-jars/zimbra-jars-8.5.0/" >
      <include name="*.jar"/>
    </fileset>
</path>

<target name="jar-8.5.0"  depends="init" description="create jar">

  <property name="build" value="build/jar/" />
  <property name="dist"  value="dist/" />

  <condition property="JarName" value="openchat">
     <not>
        <isset property="JarName"/>
     </not>
  </condition>

  <mkdir dir="${build}"/>
  <mkdir dir="${dist}"/>

  <ant antfile="build.xml" dir="../zal/" target="zal-8.5.0" inheritAll="false" useNativeBasedir="false" />

  <echo>Creating OpenChat JAR ... </echo>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="../extensionlib/src/java/" destdir="../extensionlib/build/" target="1.6" source="1.6">
    <classpath>
      <path refid="zextras-libs" />
      <pathelement location="../zal/dist/8.5.0/zal.jar" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${src}/" destdir="${build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zextras-libs" />
      <pathelement location="../extensionlib/build/" />
      <pathelement location="../zal/dist/8.5.0/zal.jar" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>

  <jar jarfile="${dist}/${JarName}.jar" compress="true">
    <manifest>
      <attribute name="Specification-Title" value="ZeXtras Core" />
      <attribute name="Specification-Version" value="1.0" />
      <attribute name="Specification-Vendor" value="${Vendor}" />
      <attribute name="Created-By" value="ZeXtras" />
      <attribute name="ZAL-Extension-Class" value="com.zextras.modules.chat.ChatExtension" />
      <attribute name="ZAL-Required-Version" value="1.11.6" />
    </manifest>
    <fileset dir="${build}" />
    <fileset dir="../extensionlib/build" />
    <zipgroupfileset dir="../build-commons/lib/jackson/" includes="jackson-annotations-2.6.7.jar" />
    <zipgroupfileset dir="../build-commons/lib/jackson/" includes="jackson-core-2.6.7.jar" />
    <zipgroupfileset dir="../build-commons/lib/jackson/" includes="jackson-databind-2.6.7.jar" />
    <zipgroupfileset dir="../build-commons/apache-commons/commons-lang3-3.1/" includes="commons-lang3-3.1.jar" />
    <zipgroupfileset dir="../build-commons/guice/" includes="guice-4.0-no_aop.jar" />
    <zipgroupfileset dir="../build-commons/guice/" includes="javax.inject.jar" />
    <zipgroupfileset dir="../build-commons/guice/" includes="jsr305-2.0.1.jar" />
    <zipgroupfileset dir="../build-commons/guice/" includes="guice-assistedinject-4.0.jar" />
    <zipgroupfileset dir="../build-commons/sentry/" includes="guava-18.0.jar" />
    <zipgroupfileset dir="../build-commons/woodstox/" includes="stax2-api-3.1.1.jar"/>
    <zipgroupfileset dir="../build-commons/woodstox/" includes="woodstox-core-asl-4.2.0.jar"/>
    <zipgroupfileset dir="../build-commons/woodstox/" includes="woodstox-msv-rng-datatype-20020414.jar"/>
    <zipgroupfileset dir="../build-commons/woodstox/" includes="msv-core-2010.2.jar"/>
    <zipgroupfileset dir="../build-commons/woodstox/" includes="xsdlib-2010.1.jar"/>
    <zipgroupfileset dir="../build-commons/netty/" includes="netty-all-4.0.44.Final.jar" />
    <zipgroupfileset dir="../build-commons/apache-commons/commons-lang3-3.1/" includes="commons-lang3-3.1.jar" />
    <fileset dir="../res/" defaultexcludes="yes" includes="xmpp/" />
    <!--<zipfileset src="${build_commons}/lib/zextras-lib.jar" />-->
  </jar>
</target>


<path id="zimbra-jars-8.5.1">
    <fileset dir="${build_commons}/zimbra-jars/zimbra-jars-8.5.1/" >
      <include name="*.jar"/>
    </fileset>
</path>

<target name="jar-8.5.1"  depends="init" description="create jar">

  <property name="build" value="build/jar/" />
  <property name="dist"  value="dist/" />

  <condition property="JarName" value="openchat">
     <not>
        <isset property="JarName"/>
     </not>
  </condition>

  <mkdir dir="${build}"/>
  <mkdir dir="${dist}"/>

  <ant antfile="build.xml" dir="../zal/" target="zal-8.5.1" inheritAll="false" useNativeBasedir="false" />

  <echo>Creating OpenChat JAR ... </echo>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="../extensionlib/src/java/" destdir="../extensionlib/build/" target="1.6" source="1.6">
    <classpath>
      <path refid="zextras-libs" />
      <pathelement location="../zal/dist/8.5.1/zal.jar" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${src}/" destdir="${build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zextras-libs" />
      <pathelement location="../extensionlib/build/" />
      <pathelement location="../zal/dist/8.5.1/zal.jar" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>

  <jar jarfile="${dist}/${JarName}.jar" compress="true">
    <manifest>
      <attribute name="Specification-Title" value="ZeXtras Core" />
      <attribute name="Specification-Version" value="1.0" />
      <attribute name="Specification-Vendor" value="${Vendor}" />
      <attribute name="Created-By" value="ZeXtras" />
      <attribute name="ZAL-Extension-Class" value="com.zextras.modules.chat.ChatExtension" />
      <attribute name="ZAL-Required-Version" value="1.11.6" />
    </manifest>
    <fileset dir="${build}" />
    <fileset dir="../extensionlib/build" />
    <zipgroupfileset dir="../build-commons/lib/jackson/" includes="jackson-annotations-2.6.7.jar" />
    <zipgroupfileset dir="../build-commons/lib/jackson/" includes="jackson-core-2.6.7.jar" />
    <zipgroupfileset dir="../build-commons/lib/jackson/" includes="jackson-databind-2.6.7.jar" />
    <zipgroupfileset dir="../build-commons/apache-commons/commons-lang3-3.1/" includes="commons-lang3-3.1.jar" />
    <zipgroupfileset dir="../build-commons/guice/" includes="guice-4.0-no_aop.jar" />
    <zipgroupfileset dir="../build-commons/guice/" includes="javax.inject.jar" />
    <zipgroupfileset dir="../build-commons/guice/" includes="jsr305-2.0.1.jar" />
    <zipgroupfileset dir="../build-commons/guice/" includes="guice-assistedinject-4.0.jar" />
    <zipgroupfileset dir="../build-commons/sentry/" includes="guava-18.0.jar" />
    <zipgroupfileset dir="../build-commons/woodstox/" includes="stax2-api-3.1.1.jar"/>
    <zipgroupfileset dir="../build-commons/woodstox/" includes="woodstox-core-asl-4.2.0.jar"/>
    <zipgroupfileset dir="../build-commons/woodstox/" includes="woodstox-msv-rng-datatype-20020414.jar"/>
    <zipgroupfileset dir="../build-commons/woodstox/" includes="msv-core-2010.2.jar"/>
    <zipgroupfileset dir="../build-commons/woodstox/" includes="xsdlib-2010.1.jar"/>
    <zipgroupfileset dir="../build-commons/netty/" includes="netty-all-4.0.44.Final.jar" />
    <zipgroupfileset dir="../build-commons/apache-commons/commons-lang3-3.1/" includes="commons-lang3-3.1.jar" />
    <fileset dir="../res/" defaultexcludes="yes" includes="xmpp/" />
    <!--<zipfileset src="${build_commons}/lib/zextras-lib.jar" />-->
  </jar>
</target>


<path id="zimbra-jars-8.6.0">
    <fileset dir="${build_commons}/zimbra-jars/zimbra-jars-8.6.0/" >
      <include name="*.jar"/>
    </fileset>
</path>

<target name="jar-8.6.0"  depends="init" description="create jar">

  <property name="build" value="build/jar/" />
  <property name="dist"  value="dist/" />

  <condition property="JarName" value="openchat">
     <not>
        <isset property="JarName"/>
     </not>
  </condition>

  <mkdir dir="${build}"/>
  <mkdir dir="${dist}"/>

  <ant antfile="build.xml" dir="../zal/" target="zal-8.6.0" inheritAll="false" useNativeBasedir="false" />

  <echo>Creating OpenChat JAR ... </echo>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="../extensionlib/src/java/" destdir="../extensionlib/build/" target="1.6" source="1.6">
    <classpath>
      <path refid="zextras-libs" />
      <pathelement location="../zal/dist/8.6.0/zal.jar" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${src}/" destdir="${build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zextras-libs" />
      <pathelement location="../extensionlib/build/" />
      <pathelement location="../zal/dist/8.6.0/zal.jar" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>

  <jar jarfile="${dist}/${JarName}.jar" compress="true">
    <manifest>
      <attribute name="Specification-Title" value="ZeXtras Core" />
      <attribute name="Specification-Version" value="1.0" />
      <attribute name="Specification-Vendor" value="${Vendor}" />
      <attribute name="Created-By" value="ZeXtras" />
      <attribute name="ZAL-Extension-Class" value="com.zextras.modules.chat.ChatExtension" />
      <attribute name="ZAL-Required-Version" value="1.11.6" />
    </manifest>
    <fileset dir="${build}" />
    <fileset dir="../extensionlib/build" />
    <zipgroupfileset dir="../build-commons/lib/jackson/" includes="jackson-annotations-2.6.7.jar" />
    <zipgroupfileset dir="../build-commons/lib/jackson/" includes="jackson-core-2.6.7.jar" />
    <zipgroupfileset dir="../build-commons/lib/jackson/" includes="jackson-databind-2.6.7.jar" />
    <zipgroupfileset dir="../build-commons/apache-commons/commons-lang3-3.1/" includes="commons-lang3-3.1.jar" />
    <zipgroupfileset dir="../build-commons/guice/" includes="guice-4.0-no_aop.jar" />
    <zipgroupfileset dir="../build-commons/guice/" includes="javax.inject.jar" />
    <zipgroupfileset dir="../build-commons/guice/" includes="jsr305-2.0.1.jar" />
    <zipgroupfileset dir="../build-commons/guice/" includes="guice-assistedinject-4.0.jar" />
    <zipgroupfileset dir="../build-commons/sentry/" includes="guava-18.0.jar" />
    <zipgroupfileset dir="../build-commons/woodstox/" includes="stax2-api-3.1.1.jar"/>
    <zipgroupfileset dir="../build-commons/woodstox/" includes="woodstox-core-asl-4.2.0.jar"/>
    <zipgroupfileset dir="../build-commons/woodstox/" includes="woodstox-msv-rng-datatype-20020414.jar"/>
    <zipgroupfileset dir="../build-commons/woodstox/" includes="msv-core-2010.2.jar"/>
    <zipgroupfileset dir="../build-commons/woodstox/" includes="xsdlib-2010.1.jar"/>
    <zipgroupfileset dir="../build-commons/netty/" includes="netty-all-4.0.44.Final.jar" />
    <zipgroupfileset dir="../build-commons/apache-commons/commons-lang3-3.1/" includes="commons-lang3-3.1.jar" />
    <fileset dir="../res/" defaultexcludes="yes" includes="xmpp/" />
    <!--<zipfileset src="${build_commons}/lib/zextras-lib.jar" />-->
  </jar>
</target>


<path id="zimbra-jars-8.7.0">
    <fileset dir="${build_commons}/zimbra-jars/zimbra-jars-8.7.0/" >
      <include name="*.jar"/>
    </fileset>
</path>

<target name="jar-8.7.0"  depends="init" description="create jar">

  <property name="build" value="build/jar/" />
  <property name="dist"  value="dist/" />

  <condition property="JarName" value="openchat">
     <not>
        <isset property="JarName"/>
     </not>
  </condition>

  <mkdir dir="${build}"/>
  <mkdir dir="${dist}"/>

  <ant antfile="build.xml" dir="../zal/" target="zal-8.7.0" inheritAll="false" useNativeBasedir="false" />

  <echo>Creating OpenChat JAR ... </echo>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="../extensionlib/src/java/" destdir="../extensionlib/build/" target="1.6" source="1.6">
    <classpath>
      <path refid="zextras-libs" />
      <pathelement location="../zal/dist/8.7.0/zal.jar" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${src}/" destdir="${build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zextras-libs" />
      <pathelement location="../extensionlib/build/" />
      <pathelement location="../zal/dist/8.7.0/zal.jar" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>

  <jar jarfile="${dist}/${JarName}.jar" compress="true">
    <manifest>
      <attribute name="Specification-Title" value="ZeXtras Core" />
      <attribute name="Specification-Version" value="1.0" />
      <attribute name="Specification-Vendor" value="${Vendor}" />
      <attribute name="Created-By" value="ZeXtras" />
      <attribute name="ZAL-Extension-Class" value="com.zextras.modules.chat.ChatExtension" />
      <attribute name="ZAL-Required-Version" value="1.11.6" />
    </manifest>
    <fileset dir="${build}" />
    <fileset dir="../extensionlib/build" />
    <zipgroupfileset dir="../build-commons/lib/jackson/" includes="jackson-annotations-2.6.7.jar" />
    <zipgroupfileset dir="../build-commons/lib/jackson/" includes="jackson-core-2.6.7.jar" />
    <zipgroupfileset dir="../build-commons/lib/jackson/" includes="jackson-databind-2.6.7.jar" />
    <zipgroupfileset dir="../build-commons/apache-commons/commons-lang3-3.1/" includes="commons-lang3-3.1.jar" />
    <zipgroupfileset dir="../build-commons/guice/" includes="guice-4.0-no_aop.jar" />
    <zipgroupfileset dir="../build-commons/guice/" includes="javax.inject.jar" />
    <zipgroupfileset dir="../build-commons/guice/" includes="jsr305-2.0.1.jar" />
    <zipgroupfileset dir="../build-commons/guice/" includes="guice-assistedinject-4.0.jar" />
    <zipgroupfileset dir="../build-commons/sentry/" includes="guava-18.0.jar" />
    <zipgroupfileset dir="../build-commons/woodstox/" includes="stax2-api-3.1.1.jar"/>
    <zipgroupfileset dir="../build-commons/woodstox/" includes="woodstox-core-asl-4.2.0.jar"/>
    <zipgroupfileset dir="../build-commons/woodstox/" includes="woodstox-msv-rng-datatype-20020414.jar"/>
    <zipgroupfileset dir="../build-commons/woodstox/" includes="msv-core-2010.2.jar"/>
    <zipgroupfileset dir="../build-commons/woodstox/" includes="xsdlib-2010.1.jar"/>
    <zipgroupfileset dir="../build-commons/netty/" includes="netty-all-4.0.44.Final.jar" />
    <zipgroupfileset dir="../build-commons/apache-commons/commons-lang3-3.1/" includes="commons-lang3-3.1.jar" />
    <fileset dir="../res/" defaultexcludes="yes" includes="xmpp/" />
    <!--<zipfileset src="${build_commons}/lib/zextras-lib.jar" />-->
  </jar>
</target>


<path id="zimbra-jars-8.7.1">
    <fileset dir="${build_commons}/zimbra-jars/zimbra-jars-8.7.1/" >
      <include name="*.jar"/>
    </fileset>
</path>

<target name="jar-8.7.1"  depends="init" description="create jar">

  <property name="build" value="build/jar/" />
  <property name="dist"  value="dist/" />

  <condition property="JarName" value="openchat">
     <not>
        <isset property="JarName"/>
     </not>
  </condition>

  <mkdir dir="${build}"/>
  <mkdir dir="${dist}"/>

  <ant antfile="build.xml" dir="../zal/" target="zal-8.7.1" inheritAll="false" useNativeBasedir="false" />

  <echo>Creating OpenChat JAR ... </echo>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="../extensionlib/src/java/" destdir="../extensionlib/build/" target="1.6" source="1.6">
    <classpath>
      <path refid="zextras-libs" />
      <pathelement location="../zal/dist/8.7.1/zal.jar" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${src}/" destdir="${build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zextras-libs" />
      <pathelement location="../extensionlib/build/" />
      <pathelement location="../zal/dist/8.7.1/zal.jar" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>

  <jar jarfile="${dist}/${JarName}.jar" compress="true">
    <manifest>
      <attribute name="Specification-Title" value="ZeXtras Core" />
      <attribute name="Specification-Version" value="1.0" />
      <attribute name="Specification-Vendor" value="${Vendor}" />
      <attribute name="Created-By" value="ZeXtras" />
      <attribute name="ZAL-Extension-Class" value="com.zextras.modules.chat.ChatExtension" />
      <attribute name="ZAL-Required-Version" value="1.11.6" />
    </manifest>
    <fileset dir="${build}" />
    <fileset dir="../extensionlib/build" />
    <zipgroupfileset dir="../build-commons/lib/jackson/" includes="jackson-annotations-2.6.7.jar" />
    <zipgroupfileset dir="../build-commons/lib/jackson/" includes="jackson-core-2.6.7.jar" />
    <zipgroupfileset dir="../build-commons/lib/jackson/" includes="jackson-databind-2.6.7.jar" />
    <zipgroupfileset dir="../build-commons/apache-commons/commons-lang3-3.1/" includes="commons-lang3-3.1.jar" />
    <zipgroupfileset dir="../build-commons/guice/" includes="guice-4.0-no_aop.jar" />
    <zipgroupfileset dir="../build-commons/guice/" includes="javax.inject.jar" />
    <zipgroupfileset dir="../build-commons/guice/" includes="jsr305-2.0.1.jar" />
    <zipgroupfileset dir="../build-commons/guice/" includes="guice-assistedinject-4.0.jar" />
    <zipgroupfileset dir="../build-commons/sentry/" includes="guava-18.0.jar" />
    <zipgroupfileset dir="../build-commons/woodstox/" includes="stax2-api-3.1.1.jar"/>
    <zipgroupfileset dir="../build-commons/woodstox/" includes="woodstox-core-asl-4.2.0.jar"/>
    <zipgroupfileset dir="../build-commons/woodstox/" includes="woodstox-msv-rng-datatype-20020414.jar"/>
    <zipgroupfileset dir="../build-commons/woodstox/" includes="msv-core-2010.2.jar"/>
    <zipgroupfileset dir="../build-commons/woodstox/" includes="xsdlib-2010.1.jar"/>
    <zipgroupfileset dir="../build-commons/netty/" includes="netty-all-4.0.44.Final.jar" />
    <zipgroupfileset dir="../build-commons/apache-commons/commons-lang3-3.1/" includes="commons-lang3-3.1.jar" />
    <fileset dir="../res/" defaultexcludes="yes" includes="xmpp/" />
    <!--<zipfileset src="${build_commons}/lib/zextras-lib.jar" />-->
  </jar>
</target>


<path id="zimbra-jars-8.7.2">
    <fileset dir="${build_commons}/zimbra-jars/zimbra-jars-8.7.2/" >
      <include name="*.jar"/>
    </fileset>
</path>

<target name="jar-8.7.2"  depends="init" description="create jar">

  <property name="build" value="build/jar/" />
  <property name="dist"  value="dist/" />

  <condition property="JarName" value="openchat">
     <not>
        <isset property="JarName"/>
     </not>
  </condition>

  <mkdir dir="${build}"/>
  <mkdir dir="${dist}"/>

  <ant antfile="build.xml" dir="../zal/" target="zal-8.7.2" inheritAll="false" useNativeBasedir="false" />

  <echo>Creating OpenChat JAR ... </echo>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="../extensionlib/src/java/" destdir="../extensionlib/build/" target="1.6" source="1.6">
    <classpath>
      <path refid="zextras-libs" />
      <pathelement location="../zal/dist/8.7.2/zal.jar" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${src}/" destdir="${build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zextras-libs" />
      <pathelement location="../extensionlib/build/" />
      <pathelement location="../zal/dist/8.7.2/zal.jar" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>

  <jar jarfile="${dist}/${JarName}.jar" compress="true">
    <manifest>
      <attribute name="Specification-Title" value="ZeXtras Core" />
      <attribute name="Specification-Version" value="1.0" />
      <attribute name="Specification-Vendor" value="${Vendor}" />
      <attribute name="Created-By" value="ZeXtras" />
      <attribute name="ZAL-Extension-Class" value="com.zextras.modules.chat.ChatExtension" />
      <attribute name="ZAL-Required-Version" value="1.11.6" />
    </manifest>
    <fileset dir="${build}" />
    <fileset dir="../extensionlib/build" />
    <zipgroupfileset dir="../build-commons/lib/jackson/" includes="jackson-annotations-2.6.7.jar" />
    <zipgroupfileset dir="../build-commons/lib/jackson/" includes="jackson-core-2.6.7.jar" />
    <zipgroupfileset dir="../build-commons/lib/jackson/" includes="jackson-databind-2.6.7.jar" />
    <zipgroupfileset dir="../build-commons/apache-commons/commons-lang3-3.1/" includes="commons-lang3-3.1.jar" />
    <zipgroupfileset dir="../build-commons/guice/" includes="guice-4.0-no_aop.jar" />
    <zipgroupfileset dir="../build-commons/guice/" includes="javax.inject.jar" />
    <zipgroupfileset dir="../build-commons/guice/" includes="jsr305-2.0.1.jar" />
    <zipgroupfileset dir="../build-commons/guice/" includes="guice-assistedinject-4.0.jar" />
    <zipgroupfileset dir="../build-commons/sentry/" includes="guava-18.0.jar" />
    <zipgroupfileset dir="../build-commons/woodstox/" includes="stax2-api-3.1.1.jar"/>
    <zipgroupfileset dir="../build-commons/woodstox/" includes="woodstox-core-asl-4.2.0.jar"/>
    <zipgroupfileset dir="../build-commons/woodstox/" includes="woodstox-msv-rng-datatype-20020414.jar"/>
    <zipgroupfileset dir="../build-commons/woodstox/" includes="msv-core-2010.2.jar"/>
    <zipgroupfileset dir="../build-commons/woodstox/" includes="xsdlib-2010.1.jar"/>
    <zipgroupfileset dir="../build-commons/netty/" includes="netty-all-4.0.44.Final.jar" />
    <zipgroupfileset dir="../build-commons/apache-commons/commons-lang3-3.1/" includes="commons-lang3-3.1.jar" />
    <fileset dir="../res/" defaultexcludes="yes" includes="xmpp/" />
    <!--<zipfileset src="${build_commons}/lib/zextras-lib.jar" />-->
  </jar>
</target>


<path id="zimbra-jars-8.7.3">
    <fileset dir="${build_commons}/zimbra-jars/zimbra-jars-8.7.3/" >
      <include name="*.jar"/>
    </fileset>
</path>

<target name="jar-8.7.3"  depends="init" description="create jar">

  <property name="build" value="build/jar/" />
  <property name="dist"  value="dist/" />

  <condition property="JarName" value="openchat">
     <not>
        <isset property="JarName"/>
     </not>
  </condition>

  <mkdir dir="${build}"/>
  <mkdir dir="${dist}"/>

  <ant antfile="build.xml" dir="../zal/" target="zal-8.7.3" inheritAll="false" useNativeBasedir="false" />

  <echo>Creating OpenChat JAR ... </echo>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="../extensionlib/src/java/" destdir="../extensionlib/build/" target="1.6" source="1.6">
    <classpath>
      <path refid="zextras-libs" />
      <pathelement location="../zal/dist/8.7.3/zal.jar" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${src}/" destdir="${build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zextras-libs" />
      <pathelement location="../extensionlib/build/" />
      <pathelement location="../zal/dist/8.7.3/zal.jar" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>

  <jar jarfile="${dist}/${JarName}.jar" compress="true">
    <manifest>
      <attribute name="Specification-Title" value="ZeXtras Core" />
      <attribute name="Specification-Version" value="1.0" />
      <attribute name="Specification-Vendor" value="${Vendor}" />
      <attribute name="Created-By" value="ZeXtras" />
      <attribute name="ZAL-Extension-Class" value="com.zextras.modules.chat.ChatExtension" />
      <attribute name="ZAL-Required-Version" value="1.11.6" />
    </manifest>
    <fileset dir="${build}" />
    <fileset dir="../extensionlib/build" />
    <zipgroupfileset dir="../build-commons/lib/jackson/" includes="jackson-annotations-2.6.7.jar" />
    <zipgroupfileset dir="../build-commons/lib/jackson/" includes="jackson-core-2.6.7.jar" />
    <zipgroupfileset dir="../build-commons/lib/jackson/" includes="jackson-databind-2.6.7.jar" />
    <zipgroupfileset dir="../build-commons/apache-commons/commons-lang3-3.1/" includes="commons-lang3-3.1.jar" />
    <zipgroupfileset dir="../build-commons/guice/" includes="guice-4.0-no_aop.jar" />
    <zipgroupfileset dir="../build-commons/guice/" includes="javax.inject.jar" />
    <zipgroupfileset dir="../build-commons/guice/" includes="jsr305-2.0.1.jar" />
    <zipgroupfileset dir="../build-commons/guice/" includes="guice-assistedinject-4.0.jar" />
    <zipgroupfileset dir="../build-commons/sentry/" includes="guava-18.0.jar" />
    <zipgroupfileset dir="../build-commons/woodstox/" includes="stax2-api-3.1.1.jar"/>
    <zipgroupfileset dir="../build-commons/woodstox/" includes="woodstox-core-asl-4.2.0.jar"/>
    <zipgroupfileset dir="../build-commons/woodstox/" includes="woodstox-msv-rng-datatype-20020414.jar"/>
    <zipgroupfileset dir="../build-commons/woodstox/" includes="msv-core-2010.2.jar"/>
    <zipgroupfileset dir="../build-commons/woodstox/" includes="xsdlib-2010.1.jar"/>
    <zipgroupfileset dir="../build-commons/netty/" includes="netty-all-4.0.44.Final.jar" />
    <zipgroupfileset dir="../build-commons/apache-commons/commons-lang3-3.1/" includes="commons-lang3-3.1.jar" />
    <fileset dir="../res/" defaultexcludes="yes" includes="xmpp/" />
    <!--<zipfileset src="${build_commons}/lib/zextras-lib.jar" />-->
  </jar>
</target>


<path id="zimbra-jars-8.7.4">
    <fileset dir="${build_commons}/zimbra-jars/zimbra-jars-8.7.4/" >
      <include name="*.jar"/>
    </fileset>
</path>

<target name="jar-8.7.4"  depends="init" description="create jar">

  <property name="build" value="build/jar/" />
  <property name="dist"  value="dist/" />

  <condition property="JarName" value="openchat">
     <not>
        <isset property="JarName"/>
     </not>
  </condition>

  <mkdir dir="${build}"/>
  <mkdir dir="${dist}"/>

  <ant antfile="build.xml" dir="../zal/" target="zal-8.7.4" inheritAll="false" useNativeBasedir="false" />

  <echo>Creating OpenChat JAR ... </echo>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="../extensionlib/src/java/" destdir="../extensionlib/build/" target="1.6" source="1.6">
    <classpath>
      <path refid="zextras-libs" />
      <pathelement location="../zal/dist/8.7.4/zal.jar" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>

  <javac includeantruntime="false" debug="true" debuglevel="lines,vars,source" srcdir="${src}/" destdir="${build}/" target="1.6" source="1.6">
    <classpath>
      <path refid="zextras-libs" />
      <pathelement location="../extensionlib/build/" />
      <pathelement location="../zal/dist/8.7.4/zal.jar" />
    </classpath>
   <compilerarg value="-Xlint:none" />
  </javac>

  <jar jarfile="${dist}/${JarName}.jar" compress="true">
    <manifest>
      <attribute name="Specification-Title" value="ZeXtras Core" />
      <attribute name="Specification-Version" value="1.0" />
      <attribute name="Specification-Vendor" value="${Vendor}" />
      <attribute name="Created-By" value="ZeXtras" />
      <attribute name="ZAL-Extension-Class" value="com.zextras.modules.chat.ChatExtension" />
      <attribute name="ZAL-Required-Version" value="1.11.6" />
    </manifest>
    <fileset dir="${build}" />
    <fileset dir="../extensionlib/build" />
    <zipgroupfileset dir="../build-commons/lib/jackson/" includes="jackson-annotations-2.6.7.jar" />
    <zipgroupfileset dir="../build-commons/lib/jackson/" includes="jackson-core-2.6.7.jar" />
    <zipgroupfileset dir="../build-commons/lib/jackson/" includes="jackson-databind-2.6.7.jar" />
    <zipgroupfileset dir="../build-commons/apache-commons/commons-lang3-3.1/" includes="commons-lang3-3.1.jar" />
    <zipgroupfileset dir="../build-commons/guice/" includes="guice-4.0-no_aop.jar" />
    <zipgroupfileset dir="../build-commons/guice/" includes="javax.inject.jar" />
    <zipgroupfileset dir="../build-commons/guice/" includes="jsr305-2.0.1.jar" />
    <zipgroupfileset dir="../build-commons/guice/" includes="guice-assistedinject-4.0.jar" />
    <zipgroupfileset dir="../build-commons/sentry/" includes="guava-18.0.jar" />
    <zipgroupfileset dir="../build-commons/woodstox/" includes="stax2-api-3.1.1.jar"/>
    <zipgroupfileset dir="../build-commons/woodstox/" includes="woodstox-core-asl-4.2.0.jar"/>
    <zipgroupfileset dir="../build-commons/woodstox/" includes="woodstox-msv-rng-datatype-20020414.jar"/>
    <zipgroupfileset dir="../build-commons/woodstox/" includes="msv-core-2010.2.jar"/>
    <zipgroupfileset dir="../build-commons/woodstox/" includes="xsdlib-2010.1.jar"/>
    <zipgroupfileset dir="../build-commons/netty/" includes="netty-all-4.0.44.Final.jar" />
    <zipgroupfileset dir="../build-commons/apache-commons/commons-lang3-3.1/" includes="commons-lang3-3.1.jar" />
    <fileset dir="../res/" defaultexcludes="yes" includes="xmpp/" />
    <!--<zipfileset src="${build_commons}/lib/zextras-lib.jar" />-->
  </jar>
</target>


  <target name="clean" description="clean up" >
    <ant antfile="build.xml" dir="../zal/" target="clean" inheritAll="false" useNativeBasedir="false" />
    <delete includeemptydirs="true">
      <fileset dir="dist/" includes="**/*" />
      <fileset dir="build/" includes="**/*" />
      <fileset dir="test_tmpsrc/" includes="**/*" />
    </delete>
    <echo>deleted dist/ build/ test_tmpsrc/</echo>
  </target>

  <target name="jar-last" depends="jar-8.7.4" />
  <!-- jar-version is defined in version_template -->
  <target name="jar-common" depends="jar-8.0.0,jar-8.0.9,jar-8.6.0,jar-8.7.4" />
  <target name="jar-all" depends="jar-8.0.0,jar-8.0.1,jar-8.0.2,jar-8.0.3,jar-8.0.4,jar-8.0.5,jar-8.0.6,jar-8.0.7,jar-8.0.8,jar-8.0.9,jar-8.5.0,jar-8.5.1,jar-8.6.0,jar-8.7.0,jar-8.7.1,jar-8.7.2,jar-8.7.3,jar-8.7.4" />

  <target name="jar-zimbra-last">
    <antcall target="jar-last">
      <param name="Vendor" value="zimbra"/>
      <param name="JarName" value="zimbra_suite_plus"/>
    </antcall>
  </target>

<!--
  <target name="jar-test-class" description="create jar and run specific unit test">
    <fail unless="test_class">test_class not defined!, please run ant with -Dtest_class=com.example.test</fail>
    <antcall target="jar" />
    <antcall target="only-test" />
  </target>
-->

  <target name="help">
    <echo>
      - build -

      You can specify -Dvendor=zimbra to build the zimbra/synacor version

      jar-last              - build zextras + zal + it for last available version of zimbra
      jar-${version}        - build zextras + zal + it for ${version} version of zimbra
      jar-common            - build zextras + zal + it for common versions of zimbra
      jar-all               - build zextras + zal + it for all versions of zimbra
      jar-zimbra-last       - build zextras + zal + it with vendor name 'zimbra'
      jar-zimbra-${version} - build zextras + zal + it with vendor name 'zimbra'

      - testing -

      In both unit and integration tests you may specificy -Dtest_class=com.example.Test
      to limit the test to that class, you can also specify -Ddebug=true to stop testing
      whenever a single test fails

                            - xml results in test-out/unit/${version}
      ut-last               - only run unit tests against last zimbra version
      ut-${version}         - only run unit tests against ${version} zimbra version
      ut-common             - only run unit tests against common zimbra versions
      ut-all                - only run unit tests against all zimbra versions

                            - xml results in test-out/it/${version}
      it-last               - only run integration tests against last zimbra version
      it-${version}         - only run integration tests against ${version} zimbra version
      it-common             - only run integration tests against common zimbra versions
      it-all                - only run integration tests against all zimbra versions

      - checks -

      class-version-check   - check compatibility with java 1.6 [zextras.jar with embedded libs, and all built zal artifacts]
      findbug               - build jar-last with findbug output enabled

      - utils -

      coffee-error-code     - create and copy ZxErrorCode coffee file
      clean                 - clear all artifacts and temporary files
      help                  - shows this help
      ant -p                - list all available ant targets

      ./chat_deploy         - deploy com_zextras_chat zimlet (@deprecated)
      ./client_deploy       - deploy com_zextras_client zimlet
      ./deploy              - deploy zextras core

    </echo>
  </target>

</project>

